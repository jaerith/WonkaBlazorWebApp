@page "/fetchchaindata"

@inherits FetchChainDataIndexModel

<h1>Peek at Data on the Chain</h1>

<p>This component demonstrates how to inspect data on the chain.</p>

@if (attrSources == null)
{
    <p><em>Loading...</em></p>
}
else
{
    <br />
    <br />
    <div>
        <div class="row">
            <div class="col-sm-3">
                <label for="attrSelect1">Pick Attribute:</label>
            </div>
            <div class="col-sm-4">
                <select id="selectCodeSample" class="form-control col-sm-7" onchange="@AttrNameChanged">
                    @for (int i = 0; i < attrSources.Length; i++)
                    {
                        <option value="@i">@attrSources[i].AttributeName</option>
                    }
                </select>
                <!--
                <br />
                <input placeholder="NewVATAmountForHMRC" bind="@attrName" />
                 -->
            </div>
        </div>
        <br />
        <div class="row">
            <div class="col-sm-3">
                <label>Attribute Source Type:</label>
            </div>
            <div class="col-sm-4">
                <p>@typeOfSrc</p>
            </div>
        </div>
        <div class="row">
            <div class="col-sm-3">
                <label>Contract Address:</label>
            </div>
            <div class="col-sm-4">
                <p>@contractAddr</p>
            </div>
        </div>
        <div class="row">
            <div class="col-sm-3">
                <label>Contract Get Method:</label>
            </div>
            <div class="col-sm-4">
                <p>@ctrtGetMethod</p>
            </div>
        </div>
        <br />
        <br />
        <div class="row">
            <div class="col-sm-3">
                <label><b>Attribute Value:</b></label>
            </div>
            <div class="col-sm-4">
                <p><b>@attrValue</b></p>
            </div>
        </div>
        <br />
        <br />
        <div class="row">
            <div class="col-sm-2">
                <button onclick="@GetValue" class="btn btn-primary">Get Value</button>
            </div>
            <div class="col-sm-2">
                <button onclick="@Refresh" class="btn btn-info">Refresh</button>
            </div>

        </div>
    </div>
}